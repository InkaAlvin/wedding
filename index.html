<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Invitation</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="style.css" rel="stylesheet">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" rel="stylesheet">
	<!DOCTYPE html>
	<html>
	<head>
		<style>
.wedding-container {
            opacity: 1;
            transition: opacity 1s ease-out;
            height: 100vh;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
			url('photos/Photo-1.jpg') center/cover;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
        }

        .wedding-couple-names {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            letter-spacing: 3px;
            font-family: 'Times New Roman', serif;
        }

        .wedding-recipient-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            font-family: 'Times New Roman', serif;
        }

        .wedding-guest-name {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            font-family: 'Times New Roman', serif;
        }

        .wedding-open-button {
            border: 2px solid white;
            padding: 10px 30px;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 1rem;
            background: transparent;
            cursor: pointer;
            font-family: 'Times New Roman', serif;
        }

        .wedding-open-button:hover {
            background: white;
            color: black;
        }
		</style>
</head>
<body>  
	<div class="wedding-container">
        <div class="wedding-couple-names">Alvin & Inka</div>
        <div class="wedding-recipient-title">Kepada Yth.</div>
        <div class="wedding-guest-name">Jokowi</div>
        <button class="wedding-open-button" onclick="openInvitation()">Buka Undangan</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<div id="section1"></div>
	<div id="section3"></div>
	<div id="section4"></div>
	<div id="section5"></div>
	<div id="section6"></div>
	<div id="section7"></div>
	<div id="section8"></div>

	<audio id="bgMusic" autoplay loop>
		<!-- <source src="https://web.ts-invitation.com/wp-content/uploads/2023/10/y2mate.com-Banda-Neira-menampilkan-Gardika-Gigih-Sampai-Jadi-Debu-Live-mp3cut.net_.mp3"
		type="audio/mp3"> -->
		<source src="background-music.mp3"
		type="audio/mp3">
    </audio>
	
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
	<script src="loader.js"></script>
	<script src="section1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>

	<script>
		// Get guest name from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const guestName = urlParams.get('to') || 'Tamu';
        document.querySelector('.wedding-guest-name').textContent = guestName;

		 // Ensure page starts at top
		 window.onload = function() {
            window.scrollTo(0, 0);
        }

		 function openInvitation() {
            document.querySelector('.wedding-container').style.opacity = '0';
            setTimeout(() => {
                document.querySelector('.wedding-container').style.display = 'none';
                const audio = document.getElementById('bgMusic');
                audio.play()
            }, 1000);
        }

		$(document).ready(function() {
			window.createCalendarEvent = function() {
				const event = {
							title: "Wedding Alvin & Inka",
							start: "20250201T140000",
							end: "20250201T193000",
							description: ""
				};

				const ics = `BEGIN:VCALENDAR
				VERSION:2.0
				BEGIN:VEVENT
				SUMMARY:${event.title}
				DTSTART:${event.start}
				DTEND:${event.end}
				DESCRIPTION:${event.description}
				END:VEVENT
				END:VCALENDAR`;

				const blob = new Blob([ics], { type: 'text/calendar' });
				const url = window.URL.createObjectURL(blob);
				$('<a>', {
					href: url,
					download: 'wedding.ics'
				})[0].click();
			};

			window.onYouTubeIframeAPIReady = function() {
				player = new YT.Player('ytPlayer', {
					events: {
						'onStateChange': onPlayerStateChange
					}
				});
			}

			function onPlayerStateChange(event) {
				const bgMusic = document.getElementById('bgMusic');
				if (event.data == YT.PlayerState.PLAYING) {
					bgMusic.pause();
				} else if (event.data == YT.PlayerState.PAUSED) {
					bgMusic.play();
				}
			}

			// Load YouTube API
			const tag = document.createElement('script');
			tag.src = "https://www.youtube.com/iframe_api";
			document.head.appendChild(tag);
		});
	</script>
</body>
</html>